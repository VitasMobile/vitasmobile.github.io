"use strict";var rooms=[];rooms["КОМИКС СЛАЙД 1"]={isInventory:!1,main:function(){print("Я главный герой этой игры. И мне по жизне очень скучно.");button("далее");button("пропустить вступление")},control:{"далее":function(){open("КОМИКС СЛАЙД 2")},"пропустить вступление":function(){open("ДВОР")}},zooms:{}};rooms["КОМИКС СЛАЙД 2"]={isInventory:!1,main:function(){print("Поэтому я обожаю ввязывать во всякие рискованные и опасные приключения.");button("далее");button("пропустить вступление")},control:{"далее":function(){open("КОМИКС СЛАЙД 3")},"пропустить вступление":function(){open("ДВОР")}},zooms:{}};rooms["КОМИКС СЛАЙД 3"]={isInventory:!1,main:function(){print("Вот и на этот раз я решил согласился на очень опасное приключение.");button("далее");button("пропустить вступление")},control:{"далее":function(){open("КОМИКС СЛАЙД 4")},"пропустить вступление":function(){open("ДВОР")}},zooms:{}};rooms["КОМИКС СЛАЙД 4"]={isInventory:!1,main:function(){print("На окраине города есть дом ведьмы, у которой есть автомат, который может исполнить желание.");button("далее");button("пропустить вступление")},control:{"далее":function(){open("КОМИКС СЛАЙД 5")},"пропустить вступление":function(){open("ДВОР")}},zooms:{}};rooms["КОМИКС СЛАЙД 5"]={isInventory:!1,main:function(){print("Поэтому я сейчас и стою на пороге этого дома, да и кто бы отказался исполнить одно из желаний.");button("начать игру")},control:{"начать игру":function(){open("ДВОР")}},zooms:{}};rooms["ДВОР"]={roomName:"ДВОР",main:function(){print("На дворе уже стемнело. Я стою перед мрачным двухэтажный домом, ");isApplied("посмотрел в окно во дворе")||button("разбитое окно","справа на фасаде дома большое *разбитое окно*, ");var door="левее окна рассположена "+(isApplied("ключ")?"открытая":"закрытая")+" *входная дверь*. ";button("входная дверь",door);isTaken("ключ")||button("крыльцо","К входной двери подступает *крыльцо*. ");button("дверь в подвал","С левой стороны дома на уровне земли видна "+(isApplied("маленький ключик")?"открытая":"закрытая")+" *дверь в подвал*.")},control:{"разбитое окно":function(){message("Если полезу через окно, то могу запросто пораниться.");apply("посмотрел в окно во дворе")},"крыльцо":function(){zoom("Крыльцо")},"входная дверь":function(){if(hasSelected("ключ")){message("Вставил ключ, провернул и дверь с ужасным скрипом отворилась");apply("ключ")}isApplied("ключ")?open("ПРИХОЖАЯ"):message("Дверь заперта на ключ")},"дверь в подвал":function(){if(hasSelected("маленький ключик")){message("Вставил ключ, провернул, дверь открыта.");apply("маленький ключик")}isApplied("маленький ключик")?open("ПОДВАЛ"):message("Дверь в подвал заперта на ключ.")}},zooms:{"Крыльцо":{main:function(){print("Заглянув под крыльцо, увидел какой-то мусор");isTaken("ключ")||button("ключ",", среди которого лежал *ключ*");print(".")},control:{"ключ":function(){take("ключ")}}}},hints:function(){return isTaken("ключ")?isZoom("Крыльцо")?"Здесь делать ничего, вылазь из под крыльца, нажав на кнопку Назад.":isApplied("ключ")||isSelected("ключ")?isSelected("ключ")&&!isApplied("ключ")?"Чего ждём? У тебя в руках ключ от входной двери, применяем его скорее.":isApplied("ключ")&&!isApplied("ПРИХОЖАЯ")?"Заходи в дом!":isTaken("маленький ключик")&&!isApplied("маленький ключик")?"У тебя в инвентаре лежит маленький ключик для двери в подвал.":isApplied("маленький ключик")&&!isApplied("ПОДВАЛ")?"Спускайся в подвал.":"":"У тебя есть ключ от входной двери, который лежит в интвентаре.":isZoom("Крыльцо")?"Мне кажется что среди этой кучи хлама лежит ключ.":"Тебе нужен ключ для входной двери, загляни под крыльцо."}};rooms["ПРИХОЖАЯ"]={main:function(){if(isApplied("включен свет")){print("В прихожей стало светлее благадаря люстре на потолке, которая зажглась после того как я включил электричество в доме. ");button("лестница на второй этаж","В дали комнаты, была большая *лестница на второй этаж*. ");isTaken("цифра 8")||button("цифра 8","На одной из ступеньки лежал кусочек бумажки с *цифра 8*. ")}else{print("Плохо освещенная прихожая, в доме нет электричества. А весь свет которые есть в этой комнате, проходит из кухни. ");button("лестница на второй этаж","В дали комнаты, в полном мраке, можно разглядеть *лестницу на второй этаж*. ")}isTaken("гвоздь")||button("перила","У лестницы мошные *перила*. ");isTaken("палка")||button("палка","Перед лестницей лежит *палка*. ");isTaken("дверная ручка")&&isTaken("предохранитель")&&isTaken("шприц")||button("дверь в кладовку","Под лесницей есть *дверь в кладовку*. ");button("проход на кухню","Справа расположен *проход на кухню*"+(isApplied("включен свет")?". ":" из которого пробивается лунный свет. "));button("входная дверь","За моей спиной "+(isApplied("дверная ручка")?"открытая":"закрытая")+" *входная дверь*.");if(!isApplied("дверь захлопнулась")){message("БАМ!!! Не успев зайти в дом, входная дверь с громким хлопком захлопнулась за мной. Я испугался!");apply("дверь захлопнулась")}},control:{"перила":function(){zoom("Перила")},"палка":function(){take("палка");message("Я подобрал палку с пола, мне она может пригодится или спасти жизнь.")},"цифра 8":function(){take("цифра 8");message("Я подобрал эту бумажку с цифрой 8.")},"лестница на второй этаж":function(){isApplied("включен свет")?open("ВТОРОЙ ЭТАЖ"):message("Очень темно, не хотелось бы свернуть себе шею.")},"дверь в кладовку":function(){if(hasSelected("горящая свеча")){apply("горящая свеча");message("Открыв дверь, было сложно что либо разглядеть, но используя свечку, в кладовке стало посветлее.")}isApplied("горящая свеча")?open("КЛАДОВКА"):message("Здесь очень темно. Нужен источник света.")},"проход на кухню":function(){open("КУХНЯ")},"входная дверь":function(){if(isSelected("дверная ручка")){apply("дверная ручка");message("Я устанвоил дверную ручку на входную дверь, повернул её и дверь открылась. Я вышел во двор.")}isApplied("дверная ручка")?open("ДВОР"):message("Дверь захлопнулась как только я зашел в дом, а дверной ручки у двери нет, без ней не открыть.")}},zooms:{"Перила":{main:function(){print("Разглядев поближе перила");isTaken("гвоздь")?print(", не вижу ничего особенного. "):button("гвоздь",", я вижу большое *гвоздь* не доконца вколоченный. ")},control:{"гвоздь":function(){take("гвоздь");message("Не долго думая, я выдернул этот гвоздь. В случае чего, я могу им поколечить того кто на меня нападёт.")}}}},hints:function(){return isTaken("палка")?isTaken("гвоздь")||isZoom("Перила")?isTaken("гвоздь")?isTaken("гвоздь")&&isZoom("Перила")?"Вернись в прихожею.":!isTaken("цифра 8")&&isApplied("включен свет")?"Возьми Цифру 8.":isApplied("КУХНЯ")?isTaken("спички")&&isTaken("свечка")&&!isTaken("горящая свеча")?"Ты можешь использовать Спичку и Свечку.":!isTaken("горящая свеча")||isSelected("горящая свеча")||isApplied("горящая свеча")?isSelected("горящая свеча")&&!isApplied("горящая свеча")?"Горящая свеча подойдет для освещения Кладовки в прихожей.":isApplied("КЛАДОВКА")?"":"Пощарься в Кладовке.":"У тебя есть Горящая счетка, это хоть и небольшой, но это источник света.":"Чего ждем? Проходи на кухню. Или страшно?":"Я бы взял этот гвоздь.":"Приглядись повнимательнее к перилам.":"На полу лежит палка, я бы поднял её."}};rooms["КУХНЯ"]={main:function(){isApplied("включен свет")?print("В кухне практически ничего не изменилось, не смотря на то что в доме теперь есть электричество, здесь его не было. Наверное перегорела лампочка. "):print("Вполне обычная кухня, благодаря большому окну, комната очень хорошо освещена лунным светом. И видно что кухня в полном беспорядке. ");isApplied("посмотрел в окно кухни")||button("разбитое окно","Большое *разбитое окно*");isTaken("спички")?print(". "):button("стол",", под которым стоит *стол*. ");var door=isApplied("открыл дверь для кухоного шкафа")?"дверцы открыты":"дверцы закрыты";isTaken("свечка")||button("кухонный шкаф","На стене весит обычный *кухонный шкаф*, "+door+". ");isApplied("не полезу больше в холодильник")?isTaken("бумажка")||button("пазл","На дверках холодильника какой-то несобранный *пазл*. "):button("холодильник","Рядом со шкафами стоит большой громоздкий холодильник с "+(isApplied("палка")?"открытой":"закрытой")+" дверью. ");isTaken("маленький ключик")||button("железный ящик","Над угловым умывальником весит ржавый *железный ящик*. ");button("проход в гостиную","В дали комнаты виден *проход в гостиную*. ");button("проход в прихожую","За спиной *проход в прихожую*.")},control:{"разбитое окно":function(){message("Кто то наверное пытался залезнь через окно. Я боюсь пораниться.");apply("посмотрел в окно кухни")},"стол":function(){zoom("стол")},"кухонный шкаф":function(){zoom("Кухонный шкаф")},"холодильник":function(){if(isSelected("палка")){apply("палка");message("Применив палку мне удалось открыть этот холодильник.")}if(isApplied("палка"))if(isTaken("масло")){message("Простите! Но я больше не полезу в этот холодильник!");apply("не полезу больше в холодильник")}else{take("масло");message("Внутри холодильника оказалось кучу гадости, которая протухла и воняла так, что я терял создание. Но мне удалось отыскать бутылочку *масла*, это мне может пригодится.")}else message("Похоже холодильник давно не открывался. Наверное закисло! Чтоб открыть дверь, нужно воспользовать чем то в качестве рычага.")},"пазл":function(){if(isSelected("клочек бумажки 1")){apply("клочек бумажки 1");message("Добавил кусочек от пазла. ")}else if(isSelected("клочек бумажки 2")){apply("клочек бумажки 2");message("Добавил кусочек от пазла. ")}if(isApplied("клочек бумажки 1")&&isApplied("клочек бумажки 2")){message("Все элементы для пазла собраны, пазл собран, тут получился какой то шифр.");take("бумажка")}else message("Недостаточно элементов для сборки пазла.")},"железный ящик":function(){zoom("Железный ящик")},"проход в гостиную":function(){isApplied("включен свет")?open("ГОСТИНАЯ"):message("Там нет света. Я очень боюсь нарваться на что-то опасное.")},"проход в прихожую":function(){open("ПРИХОЖАЯ")}},zooms:{"стол":{main:function(){print("Стол, хорошо освещенный лунным светом из большого окна в кухне. На столе много мусора");isTaken("спички")||button("спички",", среди которого я вижу *спички*.")},control:{"спички":function(){if(!isTaken("спички")){take("спички");message("Подобрал спички")}}}},"Кухонный шкаф":{main:function(){print("Взглянем поближе на кухоный шкаф. ");if(isApplied("открытая дверь для кухоного шкафа")){print("Двери шкафа открыты");isTaken("свечка")||button("свечка",", а внутри лежит *свечка*.")}else{print("Дверь шкафа закрыты.");button("открыть дверь")}},control:{"свечка":function(){if(!isTaken("свечка")){take("свечка");message("Взял свечку, которая лежала в кухоном кафчике.")}},"открыть дверь":function(){apply("открытая дверь для кухоного шкафа");message("Я открыл дверку кухоного шкафа. Очень боялся что это все рухнет.")}}},"Железный ящик":{main:function(){print("Взглянем поближе на железный ящик. ");if(isApplied("шприц с маслом")){print("Внутри находятся всякие неполезные безделушки");isTaken("маленький ключик")||button("маленький ключик",", но кое что полезным я считаю, это *маленький ключик*");print(".")}else button("крышка","*Крышка* закрыта. Интересно даже что же там.")},control:{"крышка":function(){if(hasSelected("шприц с маслом")){apply("шприц с маслом");message("Капнул пару капель на навесы ящичка, применив силу, мне удалось открыть его.")}else message("Навесы на крышке серьезно приржавела и не хочет открываться. Смазать бы это дело чем-нибудь.")},"маленький ключик":function(){if(!isTaken("маленький ключик")){take("маленький ключик");message("Взял этот маленький ключик, интересно от куда он?!")}}}}},hints:function(){return isTaken("спички")?isZoom("стол")?"Тут нет ничего полезного.":isZoom("Кухонный шкаф")?isApplied("открытая дверь для кухоного шкафа")?isTaken("свечка")?"Здесь делать больше нечего.":"Бери свечку!":"Давай откроем дверь.":isTaken("свечка")||isZoom("Кухонный шкаф")?isApplied("палка")&&!isTaken("масло")?"Загляни в холодильник. Может так есть что то полезное.":isApplied("палка")||!isTaken("палка")||isSelected("палка")?isSelected("палка")?"Давай попробуем с помощью палки открыть холодиьник.":isApplied("палка")&&!isApplied("не полезу больше в холодильник")?"Может заглянем еще раз в холодильник?":isApplied("включен свет")&&!isApplied("ГОСТИНАЯ")?"Проходи в гостиную, там светлее стало.":"":"У тебя в инвентаре палка, можно попробовать с помощью неё открыть холодильник.":"Почему бы не заглянуть в кухонный щкаф?":isZoom("стол")?"Смотри вон спички!.":"Я вижу что то полезное на столе."}};rooms["КЛАДОВКА"]={main:function(){print("Кладовка очень маленькая и достаточно такого маленького источника света как свеча, чтоб разглядеть что тут есть. ");isTaken("предохранитель")||button("коробка","В центре комнаты лежит *коробка*. ");isTaken("дверная ручка")||button("тумбочка","У стены стоит *тумбочка*. С "+(isApplied("открытая дверка на тумбочке")?"открытыми":"закрытыми")+" дверками. ");isTaken("шприц")||button("хлам","В углу лежит какой-то *хлам*. ");button("выход из кладовки","\nЗа спиной находится *выход из кладовки*.")},control:{"коробка":function(){zoom("Коробка")},"тумбочка":function(){zoom("Тумбочка")},"хлам":function(){message("Порывшись в хламе я нашел шприц, это может мне пригодится.");take("шприц")},"выход из кладовки":function(){open("ПРИХОЖАЯ")}},zooms:{"Коробка":{main:function(){print("Приближивщись к коробке. ");isApplied("открытая коробка в кладовке")?isTaken("предохранитель")?print("В коробке ничего нет, пусто."):button("предохранитель","Внутри коробки лежит *предохранитель*"):button("крышка","Коробка накрыта *крышкой*.")},control:{"крышка":function(){apply("открытая коробка в кладовке");message("Я открыл коробку.")},"предохранитель":function(){take("предохранитель");message("Я взял предохранитель из коробки.")}}},"Тумбочка":{main:function(){print("Подобравшись поближе к тумбочке. ");isApplied("открытая дверка на тумбочке")?isTaken("дверная ручка")||button("дверная ручка","Внутри тумбочки лежит *дверная ручка*"):button("дверка","*Дверка* на тумбочке закрыта. ")},control:{"дверка":function(){if(hasSelected("гвоздь")){apply("гвоздь");message("Вставил гвоздь в щель, применил силу и дверька открылась.");apply("открытая дверка на тумбочке")}else message("Дверка заперта, нужно чем то подцепить чтоб открыть её.")},"дверная ручка":function(){take("дверная ручка");message("Я подобрал дверную ручку.")}}}},hints:function(){if(!isTaken("предохранитель"))return isZoom("Коробка")?isApplied("открытая коробка в кладовке")?"Возьми предохранитель.":"Открой коробку.":"Я вижу коробку, может так что то есть полезное.";if(isTaken("предохранитель")&&isZoom("Коробка"))return"В коробке больше ничего нет.";if(!isTaken("дверная ручка")){if(!isZoom("Тумбочка"))return"Возможно в тумбочке есть что то полезное.";if(isApplied("открытая коробка на тумбочке"))return"Тум больше ничего нет.";if(isTaken("гвоздь"))return isSelected("гвоздь")?"Примените Гвоздь к дверце.":"У тебя в инвентаре есть Гвоздь."}}};rooms["ПОДВАЛ"]={main:function(){if(isApplied("включен свет")){print("В подвале ссыро и очень пыльно, благадаря маленькой лампочке на потолке, можно разглядеть кое что в этом подвале. ");if(isApplied("код 483")){print("железный шкаф","В дальнем углу стоит открытый *железный шкаф*");isTaken("лом")?print(", он пуст. "):button("лом",", внутри него лежит *лом*. ")}else button("железный шкаф","В дальнем углу от входа стоит *железный шкаф* скорее всего с инструментами. ");isTaken("клочек бумажки 1")||button("клочек бумажки","Рядом со столом валяется какой то *клочек бумажки*. ");isTaken("газовый ключ")||button("газовый ключ","Рядом со шкафом валяется *газовый ключ*. ")}else{print("В подвале очень темно и ссыро. ");button("электрощиток","Чуть ближе к входу на стене весит *электрощиток*. ");print("Далее входа ничего не разглядеть, очень темно здесь. ")}button("выход из подвала","За спиной выход из подвала.")},control:{"электрощиток":function(){if(hasSelected("предохранитель")){message("Я вставил предохранитель в гнездо и дернул рукоятку рубильника. Бахнули искры и подвал стал светлее от загоревшейся лампочки на потолке.");apply("предохранитель");apply("включен свет")}else message("Я дернул за ручку рубильника, но ничего не произошло. Посмотрев повнимательнее, я заметил что нехватает предохранителя.")},"железный шкаф":function(){if(isSelected("код 483")){message("Я попытался нажать все три кнопки 5, 9 и 2. Замок щелкнул и дверь открылись.");apply("код 483")}else message("Двери заперты кодовым замком. Мне нужен код из трех цифр.")},"лом":function(){if(isApplied("код 483")&&!isTaken("лом")){take("лом");message("Я взял лом. Такая вещица мне точно может пригодиться.")}},"газовый ключ":function(){take("газовый ключ");message("Я подобрал газовый ключ с пола.")},"клочек бумажки":function(){take("клочек бумажки 1");message("Нашел какой то клочек бумажки со знаками.")},"выход из подвала":function(){open("ДВОР")}},zooms:{},hints:function(){return""}};rooms["ГОСТИНАЯ"]={main:function(){print("Обыкновенная гостиная, только больно уж пыльная и захламленная. В центре комнаты находится камин");isTaken("пустая карточка 1")&&isTaken("цифра 4")||button("полка над камином",", *полка над камином*");isTaken("клочек бумажки 2")||button("диван",", напротив камина стоит *диван*");print(". ");isTaken("красная иконка")||button("картина","На стене весит *картина*. ");button("выход в кухню","За спиной выход из гостиной в кухню.")},control:{"картина":function(){take("красная иконка");message("Ничего не понимаю в искусстве, нарисована природа, но на углу прикреплена *красная иконка*. Я заберу её.")},"полка над камином":function(){zoom("Полка над камином")},"диван":function(){zoom("Диван")},"выход в кухню":function(){open("КУХНЯ")}},zooms:{"Полка над камином":{main:function(){print("На полке над камином ничего интересно, фотографии, какие-то амулеты");isTaken("пустая карточка 1")||button("пустая карточка 1",", *пустая карточка 1* которая нужна для автомата желаний");isTaken("цифра 4")||button("цифра 4",", клочек бумаги с *цифра 4*");print(".")},control:{"пустая карточка 1":function(){take("пустая карточка 1")},"цифра 4":function(){take("цифра 4")}}},"Диван":{main:function(){print("Этому дивану сильно досталось, он был заперт, грязный и разодранный, удивительно что его еще используют, а не просто выкинули. ");isApplied("подушка")?isTaken("клочек бумажки 2")||button("клочек бумажки 2","На диване лежит *клочек бумажки 2*."):button("подушка","На углу дивана лежит *подушка*.")},control:{"подушка":function(){apply("подушка");message("Я решил заглянуть под подушку, поднял и переложил её на другую сторону дивана. Под ней был какой то *клочок бумажки*.")},"клочек бумажки 2":function(){take("клочек бумажки 2");message("Возьмука я эту бумажку.")}}}},hints:function(){return""}};rooms["ВТОРОЙ ЭТАЖ"]={main:function(){print("Я на втором этаже. ");isTaken("синяя иконка")||button("стена","В *стене* трещина, в трещине что то виднеется. ");button("дверь в спальню","По правой стороне находится *дверь в спальню*. ");button("дверь в ванную","В глубине коридора *дверь в ванную*. ");isApplied("лом")?button("дверь в детскую","По левой стороне *дверь в детскую*. "):button("дверь в детскую","По левой стороне заколоченная досками *дверь в детскую*. ");isApplied("зонт")?button("лестница на чердак","Из потолка спускается *лестница на чердак*. "):button("веревочка","С потолка свисает *веревочка* с помощью неё можно достать лестницу на чердак. ");button("лестница на первый этаж","За спиной лестница для спуска на первый этаж.")},control:{"стена":function(){zoom("Стена")},"дверь в спальню":function(){open("СПАЛЬНЯ")},"дверь в ванную":function(){open("ВАННАЯ")},"дверь в детскую":function(){if(hasSelected("лом")){apply("лом");message("Используя лом, я справился за меньше минуты с досками.")}else isApplied("лом")?open("ДЕТСКАЯ"):message("Почему детская комната заколоченная? Что за причина?")},"веревочка":function(){if(hasSelected("зонт")){apply("зонт");message("С помощью зонта мне удалось дотянуться до веревочки и понятнуть её, тем самым вытянув лестницу на чердак.")}else message("Не могу дотянуться до веревочки.")},"лестница на чердак":function(){isApplied("зонт")&&open("ЧЕРДАК")},"лестница на первый этаж":function(){open("ПРИХОЖАЯ")}},zooms:{"Стена":{zoomName:"Стена",main:function(){print("На стенке большая трещина");isTaken("синяя иконка")||button("синяя иконка",", внутри трещины лежит *синяя иконка*");print(".")},control:{"синяя иконка":function(){if(!isTaken("синяя иконка")){take("синяя иконка");message("Подобрал синию иконку")}}}}},hints:function(){return""}};rooms["СПАЛЬНЯ"]={main:function(){print("Сейчас я в спальне. Больше всего места тут занимала кровать, постель была не заправлена. ");isTaken("пустая карточка 3")&&isTaken("желтая иконка")||button("туалетный столик","Напротив кровати стоит *туалетный столик*. ");isTaken("отвертка")||button("чемодан","Под кроватью я заметил *чемодан*. ");isTaken("цифра 3")||button("цифра 3","Над кроватью было много раз накорябана разными цветами *цифра 3*. ");isTaken("микросхема")||button("шкатулка","Рядом с кроватью лежит *шкатулка* с пазлом на крышке. ");button("выйти из спальни","*Выйти из спальни*.")},control:{"туалетный столик":function(){zoom("Туалетный столик")},"чемодан":function(){if(hasSelected("бумажка")){apply("бумажка");message("Набрав код из бумажки, замочек щелкнул и чемодан открылся. Внутри были какие-то пряпки с запохом пыли, моли и старья. Среди этих тряпок я нашел *отвертка*.");take("отвертка")}else message("Чемодан заперт на кодовый замок. Попытался кое что подобрать, но ничего не вышло.")},"цифра 3":function(){take("цифра 3");message("Я запомню эту цифру, может она что то означает.")},"шкатулка":function(){if(isSelected("зеленная иконка")){apply("зеленная иконка");message("Добавил зеленную иконку к пазлу. ")}else if(isSelected("синяя иконка")){apply("синяя иконка");message("Добавил синею иконку к пазлу. ")}else if(isSelected("желтая иконка")){apply("желтая иконка");message("Добавли желтую иконку к пазлу. ")}else if(isSelected("красная иконка")){apply("красная иконка");message("Добавил красную иконку к пазлу. ")}if(isApplied("зеленная иконка")&&isApplied("синяя иконка")&&isApplied("желтая иконка")&&isApplied("красная иконка")){take("микросхема");message("Вы собрали пазл, шкатулка открылась, а нутри лежала микросхема. ")}else message("В пазле не достаточно элементов. ")},"выйти из спальни":function(){open("ВТОРОЙ ЭТАЖ")}},zooms:{"Туалетный столик":{main:function(){print("У туалетного столика было большое зеркало, правда оно было разбито и покрыто толстым слоем пыли, разрисовано толи помадой, толи кровью... по мне пробежали муражки от мысли что это человеческая кровь. На туалетном столике был полный безпорядок. ");isTaken("пустая карточка 3")||button("пустая карточка 3","Среди этого хлама я нашел еще одну *пустая карточка 3* для автомата с желаниями. ");isTaken("желтая иконка")||button("желтая иконка","На зеркале была приклеена *желтая иконка*.")},control:{"пустая карточка 3":function(){take("пустая карточка 3");message("Я забрал пустую карточку 3.")},"желтая иконка":function(){take("желтая иконка");message("Я забрал желтую иконку.")}}}},hints:function(){return""}};rooms["ВАННАЯ"]={main:function(){print("Ванная комната. Запах сырости, гнили и канализации резко ударил мне в нос, тут наверное никогда не убирались. ");isTaken("зеленная иконка")||button("ванная","Большую часть помещения занимает *ванная* расположенная у одной стены. ");isApplied("раковина")?isTaken("монетка")||button("труба","*Труба* слива под раковиной. "):button("раковина","На противоположной стороне стены стоит *раковина*. ");isTaken("лампочка")||button("шкафчик","Над раковиной весит *шкафчик*. ");button("выйти из ванной","*Выйти из ванной*.")},control:{"ванная":function(){zoom("Ванная")},"раковина":function(){zoom("Раковина")},"труба":function(){if(hasSelected("газовый ключ")){apply("газовый ключ");message("Использовав газовый ключ, мне удалось раскрутить трубу и повозившись с десяток секунд, я разобрался трубу. Как же это все воняло, я даже пожалел что взялся за это дело, из трубы вылелось черная вонючая жижа, с волосами и выпала монетка.");take("монетка")}else message("Очень сильно закисло, мне руками это не раскрутить.")},"шкафчик":function(){message("Заглянув в шкафчик над раковиной, я обнаружил там всякие колбочки, бутылочки с страшным содержимым, в некоторых плавали какие-то органы, надеюсь это все не человеческое. Я поспешил закрыть этот шкафчик и больше не заглядывать в него, но лампочку лежавшую на полочке я захватил.");take("лампочка")},"выйти из ванной":function(){open("ВТОРОЙ ЭТАЖ")}},zooms:{"Ванная":{zoomName:"Ванная",main:function(){print("Ванна выглядит ужасно");if(isApplied("цепочка для слива")){print(", если пытаться вымоться в такой ванне, то скорее всего наоборот станешь только грязнее. ");isTaken("зеленная иконка")||button("зеленная иконка","На дне лежала *зеленная иконка*.")}else{print(", она была наполнена грязной водой, которая воняла, в черной воде мне кажется плавали волосы. ");button("цепочка для слива","В эту грязную воду уходила *цепочка для слива*.")}},control:{"цепочка для слива":function(){apply("цепочка для слива");message("Я потянулся за цепочкой, схватил её и дернул в вверх. Заурчала вода и на поверхности воды появилась воронка. ");message("Через пару минут в ванной не было воды. ")},"зеленная иконка":function(){take("зеленная иконка");message("Хоть меня и переполняло чувство отвращения, я все же нашел в себе смелость и подобрал зеленную иконку со дна этой жуткой ванны.")}}},"Раковина":{main:function(){print("На раковине ничего не было подозрительного, она была ужасно грязная, воняло из ");isApplied("раковина")?print("сливного отверствия"):button("сливное отверстие","*сливного отверстия*");print(". ")},control:{"сливное отверстие":function(){if(!isApplied("раковина")){apply("раковина");message("Набравшись смелости я заглянул в отверстие слива и заметил там что то застряло. Достать это будут проблемно.")}}}}},hints:function(){return""}};rooms["ДЕТСКАЯ"]={main:function(){print("Вполне просторная детская комната, лампочка на полтолке не горела, а свет что был в комнате лунный, который пробивался из окна. ");isTaken("карандаш")||button("школьный стол","Прямо у входа у стенке стоит *школьный стол*. ");isTaken("зонт")||button("кровать","В дальнем углу комната стоит *кровать*. ");isTaken("кнопка для автомата")||button("игрушки","На полу разбросаны *игрушки*. ");isTaken("пустая карточка 2")||button("фигурки","На полу лежала *фигурки* игра для детей, в которой надо было расставить фигурки. ");button("выйти из детской","*Выйти из детской*.")},control:{"школьный стол":function(){zoom("Школьный стол")},"кровать":function(){zoom("Кровать")},"игрушки":function(){message("Порывшись в игрушках, я нашел кнопку для автомата.");take("кнопка для автомата")},"фигурки":function(){message("Собрав все фигурки, внизу коробочки игры, открылся отсек, в котором лежал *пустая карточка 2*. Я забрал его. ");take("пустая карточка 2")},"выйти из детской":function(){open("ВТОРОЙ ЭТАЖ")}},zooms:{"Школьный стол":{main:function(){if(isApplied("настольная лампа")){print("На столе был бардак и все в пыли");isTaken("карандаш")||button("карандаш",", среди этого хлама лежал *карандаш*");print(".")}else{print("На столе из за темноты сложно было что то разглядеть. ");button("настольная лампа","В углу стола стояла *настольная лампа*.")}},control:{"настольная лампа":function(){apply("настольная лампа");message("В надежде что лампа работает, я шелкнул выключателям и они зажглась. Теперь на столе достаточно света для его изучения.")},"карандаш":function(){take("карандаш");message("Я заберу карандаш, мне он может пригодиться.")}}},"Кровать":{main:function(){print("Кровать была не заправлена. ");isTaken("зонт")||button("зонт","На постели лежал *зонт*.")},control:{"зонт":function(){take("зонт");message("Я забрал зонт себе.")}}}},hints:function(){return""}};rooms["ЧЕРДАК"]={main:function(){print("И вот я на чердаке. ");if(isApplied("лампочка")&&isApplied("выключатель")){print("Хотя тут сейчас и есть освещение, но страх все равно не покидал меня. ");button("автомат желания","В дальнем углу стоял *автомат желаний*. ")}else{print("Света тут не было, что нагнетало ужас и страх");button("выключатель",", но с потолка свисала веревочка *выключатель* освещения на чердаке. ");isApplied("нужна лампочка")&&!isApplied("лампочка")&&(isApplied("ящик")?button("патрон","Забравшись на ящик, я свободно достаю до *патрона*. "):button("ящик","На полу лежит *ящик*. "))}button("спуститься на второй этаж","*Спуститься на второй этаж*.")},control:{"выключатель":function(){if(isApplied("лампочка")){apply("выключатель");message("Щелчок и чердак немного наполнился светом.")}else{apply("нужна лампочка");message("Я дернул за веревочку, но ничего не произошло. Я поднял голову и увидел пустой патрон, но мне до него не дотянуться.")}},"ящик":function(){apply("ящик");message("Я подтянул ящик которые стоял рядом под выключатель.")},"патрон":function(){if(hasSelected("лампочка")){apply("лампочка");message("Я вкрутил лампочку в патрон. Надеюсь лампочка целая.")}else message("Одно дело дотянуться до этого патрона, другое найти лампочку которую сюда следует вкрутить.")},"автомат желания":function(){zoom("Автомат желаний")},"спуститься на второй этаж":function(){open("ВТОРОЙ ЭТАЖ")}},zooms:{"Автомат желаний":{main:function(){if(isApplied("микросхема")&&isApplied("отвертка")&&isApplied("кнопка для автомата")){print("Я смотрю на панель автомата желания. Тут написано кратко правило пользования.");print("Можно исполнить одно желание, для этого нужно:\n");print("  1. подписать нужную карточку желания\n");if(isApplied("карточка желания любовь")||isApplied("карточка желания богатство")||isApplied("карточка желания путешествие")){print("  2. вставить подписаную карточку в картоприемник\n");if(isApplied("монетка")){print("  3. забросить монетку в монетоприемник\n");button("посмотреть результат","  4. *дождаться результата*.\n")}else{button("монетоприемник","  3. забросить монетку в *монетоприемник*\n");print("  4. дождаться результата.\n")}}else{button("картоприемник","  2. вставить подписаную карточку в *картоприемник*\n");print("  3. забросить монетку в монетоприемник\n");print("  4. дождаться результата.\n")}}else{print("Автомат не исправлен. ");isApplied("кнопка для автомата")||button("кнопка запуска","На лицевой панели сразу бросилось в глаза, то что у автомата не было *кнопка запуска*. ");isApplied("микросхема")?isApplied("отвертка")||button("дисплей","*Дисплей* осталось только подкрутить все. "):button("дисплей","*Дисплей* кажется не работает. ")}},control:{"кнопка запуска":function(){if(hasSelected("кнопка для автомата")){apply("кнопка для автомата");message("Кнопка установлена.")}else message("На панели написано что тут кнопка запуска, но самой кнопки здень нет.")},"дисплей":function(){if(isSelected("микросхема")){apply("микросхема");message("Установил микросхему, вроде починил дисплей. ")}else if(isSelected("отвертка")){message("Я взял отвертку и завинтил все винтики, хорошо закрепив плату. После такого работать дожно. ");apply("отвертка")}else isApplied("микросхема")?isApplied("отвертка")?message("Дисплей не рабочий."):message("Дисплей не прикручен, нужно зафиксировать его."):message("Дисплей сломан, тут нехватает микросхемы.")},"картоприемник":function(){var card=0;if(isSelected("карточка желания любовь")){apply("карточка желания любовь");message("Я выбрал карточку желания с любовью. ");card=1}if(isSelected("карточка желания богатство")){apply("карточка желания богатство");message("Я выбрал карточку желания с богатством. ");card=2}if(isSelected("карточка желания путешествие")){apply("карточка желания путешествие");message("Я выбрал карточку желания на путешествие. ");card=3}if(0<card){apply("желание "+(Math.round(2*Math.random())+1+3*(card-1)));message("Я установил карточку в картоприемник.")}else message("Сюда надо вставить подписаную карточку с желанием.")},"монетоприемник":function(){if(hasSelected("монетка")){apply("монетка");message("Я вставил монетку в автомат, на его табло замегали разноцветные лампочки, посыпались разные пищащие звуки, которые меня сильно напугали. ");message("Осталось только дождаться результата!")}else message("Сюда следует вставлять монетку. ")},"посмотреть результат":function(){open("РЕЗУЛЬТАТ")}}}},hints:function(){return""}};rooms["РЕЗУЛЬТАТ"]={isInventory:!1,main:function(){print("На табло высветился результат голосования.\n ");isApplied("желание 1")&&print("В твоей жизне будет одна любовь и она будет на всю жизнь.");isApplied("желание 2")&&print("У тебя будет много любви.");isApplied("желание 3")&&print("Ты полюбишь, но тебе не ответят взаимостью, после этого ты разочаруешься в любви.");isApplied("желание 4")&&print("У тебя будет успешный бизнес и твои дела будут идти хорошо. Ты будешь богат!");isApplied("желание 5")&&print("Ты будешь часто менять работы и доработаешь до пенсии.");isApplied("желание 6")&&print("У тебя будут сложности с работой, своё дело открыть у тебя не получится.");isApplied("желание 7")&&print("Ты будешь очень часто путеществовать.");isApplied("желание 8")&&print("Твоя жизнь будет связана с путешествием.");isApplied("желание 9")&&print("В твоей жизни будет очень мало путешествия.");isApplied("желание 10")&&print("Желание 10");isApplied("желание 11")&&print("Желание 11");print("\n\nМне осталось только принять все как есть и уходить из этого дома.\n");print("Игра закончена.\n");print("Спасибо что прошли её.\n");print("Свои пожелания, комментарии и предложения вы можете оставить в группе или лично разработчику")},control:{},zooms:{}};